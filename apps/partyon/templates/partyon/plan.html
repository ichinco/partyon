{#{% load staticfiles %}#}
{##}
{#<!doctype html>#}
{#<html lang="en">#}
{#<head>#}
{#  <meta charset="utf-8">#}
{#  <title>jQuery UI Draggable - Default functionality</title>#}
{#  <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css">#}
{#  <script src="http://code.jquery.com/jquery-1.9.1.js"></script>#}
{#  <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>#}
{#    <script type="text/javascript" src="{% static "jquery/jquery-1.9.1.min.js" %}" />#}
{#    <script src='{% static "jqueryui/jquery-ui-1.10.3.custom.min.js" %}' type="text/javascript"></script>#}
{#  <link rel="stylesheet" href="/resources/demos/style.css">#}
{#  <style>#}
{#  #draggable { width: 150px; height: 150px; padding: 0.5em; }#}
{#  </style>#}
{#  <script>#}
{#  $(function() {#}
{#    $( ".draggable" ).draggable();#}
{#  });#}
{#  </script>#}
{#</head>#}
{#<body>#}

{#<table>#}
{#    <tr>#}
{#        <td>#}
{#            <div class="ui-widget-content draggable">#}
{#              <p>Drag me around</p>#}
{#            </div>#}
{#        </td>#}
{#    </tr>#}
{#</table>#}
{##}
{##}
{##}
{#</body>#}
{#</html>#}
{##}
{% extends "base.html" %}
{% load apptag %}

{% block content %}
    <div class="row">
        <div class="col-md-2">

            <table class="table bs-sidebar">
                <thead>
                <tr>
                    <th>Food</th>
                </tr>
                </thead>
                <tbody>
                <tr><td class="draggable">Breakfast</td></tr>
                <tr><td class="draggable">Brunch</td></tr>
                <tr><td class="draggable">Lunch</td></tr>
                <tr><td class="draggable">Dinner</td></tr>
                <tr><td class="draggable">Drinks</td></tr>
                </tbody>
                <thead>
                <tr>
                    <th>Activities</th>
                </tr>
                </thead>
                <tbody>
                <tr><td class="draggable">Walking tour</td></tr>
                <tr><td class="draggable">Hike</td></tr>
                <tr><td class="draggable">Spa</td></tr>
                <tr><td class="draggable">Sports game</td></tr>
                <tr><td class="draggable">Theater</td></tr>
                <tr><td class="draggable">Dancing</td></tr>
                <tr><td class="draggable">Beach</td></tr>
                </tbody>
            </table>
        </div>

        {% for d in 5|get_range_base_1 %}
        <div class="col-md-2">
            <h2>Day {{ d }}</h2>
            <table class="table span1">
                <thead>
                <tr>
                    <th>time</th>
                    <th>plan</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>12 AM</td>
                    <td></td>
                </tr>
                {% for o in 11|get_range_base_1 %}
                    <tr class="droppable">
                        <td>{{ o }}</td>
                        <td class="desc"></td>
                    </tr>
                {% endfor %}
                <tr  class="droppable">
                    <td>12 PM</td>
                    <td class="desc"></td>
                </tr>
                {% for o in 11|get_range_base_1 %}
                    <tr class="droppable">
                        <td>{{ o }}</td>
                        <td class="desc"></td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
        {% endfor %}
    </div>

    <div id="create-event" class="modal fade">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title">Modal title</h4>
          </div>
          <div class="modal-body">
            <form>
                <label for="details">details</label>
                <input type="textarea" name="details" />
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary">Save changes</button>
          </div>
        </div>
      </div>
    </div>
{% endblock %}

{% block javascript %}
    <script type="text/javascript">
        $(document).ready(function() {
            $('.modal').modal({
              keyboard: false,
              show: false
            });
            $(".draggable").draggable({
                revert : true
            });

            $( ".droppable" ).droppable({
              drop: function( event, ui ) {
{#                  ui.draggable.removeAttr("style");#}
                  $(this).find(".desc").html(ui.draggable.html());
                  $("#create-event").find(".modal-title").html(ui.draggable.html());
                  $("#create-event").modal('show');
              }
            });
        });
    </script>
{% endblock %}